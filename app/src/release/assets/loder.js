var Loader=(function(){var d="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiB2aWV3Qm94PSIwIDAgNjAwIDM3NSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGRlZnMvPjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiBmaWxsPSIjRUVFRUVFIi8+PGc+PHRleHQgeD0iMTc3LjY1NjI1IiB5PSIyMDAuNyIgc3R5bGU9ImZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZTozMHB0Ij7ngrnlh7vliqDovb3lm77niYc8L3RleHQ+PC9nPjwvc3ZnPg==";var i="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiB2aWV3Qm94PSIwIDAgNjAwIDM3NSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGRlZnMvPjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiBmaWxsPSIjRUVFRUVFIi8+PGc+PHRleHQgeD0iMjE4LjQzNzUiIHk9IjIwMC43IiBzdHlsZT0iZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjMwcHQiPueCueWHu+mHjeivlTwvdGV4dD48L2c+PC9zdmc+";var c="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiB2aWV3Qm94PSIwIDAgNjAwIDM3NSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGRlZnMvPjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiBmaWxsPSIjRUVFRUVFIi8+PGc+PHRleHQgeD0iMjM4LjgyODEyNSIgeT0iMjAwLjciIHN0eWxlPSJmaWxsOiNBQUFBQUE7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LWZhbWlseTpBcmlhbCwgSGVsdmV0aWNhLCBPcGVuIFNhbnMsIHNhbnMtc2VyaWYsIG1vbm9zcGFjZTtmb250LXNpemU6MzBwdCI+5Yqg6L295LitPC90ZXh0PjwvZz48L3N2Zz4=";var g="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiB2aWV3Qm94PSIwIDAgNjAwIDM3NSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGRlZnMvPjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiBmaWxsPSIjRUVFRUVFIi8+PGc+PHRleHQgeD0iMTg3Ljc1IiB5PSIyMDAuNyIgc3R5bGU9ImZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZTozMHB0Ij5GbGFzaCBWaWRlbzwvdGV4dD48L2c+PC9zdmc+";var l="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiB2aWV3Qm94PSIwIDAgNjAwIDM3NSIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PGRlZnMvPjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iMzc1IiBmaWxsPSIjRUVFRUVFIi8+PGc+PHRleHQgeD0iMTM2Ljg3NSIgeT0iMjAwLjciIHN0eWxlPSJmaWxsOiNBQUFBQUE7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LWZhbWlseTpBcmlhbCwgSGVsdmV0aWNhLCBPcGVuIFNhbnMsIHNhbnMtc2VyaWYsIG1vbm9zcGFjZTtmb250LXNpemU6MzBwdCI+5bCa5pyq5pSv5oyB6K+l6KeG6aKR5rqQPC90ZXh0PjwvZz48L3N2Zz4=";var n=[];var f=[];(function(){var w=document.querySelectorAll(".content a>img");for(var F=0;F<w.length;F++){var M=w[F];var K=M.parentNode;var B=K.parentNode;B.replaceChild(M,K)}f=document.querySelectorAll(".content img");n=[];for(var F=0;F<f.length;F++){var M=f[F];n[F]=M.src;M.setAttribute("dest-src",M.src);M.setAttribute("pos",F);M.removeAttribute("width");M.removeAttribute("height");M.removeAttribute("style");if(config.enableImage){a(M)}else{M.removeAttribute("src");M.setAttribute("src",d);M.onclick=function(){a(this)}}}var r=document.querySelectorAll("iframe");for(var F=0;F<r.length;F++){var u=r[F];b(u,u)}var v=document.querySelectorAll("video");for(var F=0;F<v.length;F++){var G=v[F];G.setAttribute("preload","metadata");b(G,G)}var D=document.querySelectorAll("embed");for(var F=0;F<D.length;F++){var o=D[F];if(o.type=="application/x-shockwave-flash"){var L=new Image();L.setAttribute("src",g);L.setAttribute("id","video_"+F);L.setAttribute("video-src",o.src);L.setAttribute("video-params",o.flashvars);if(config.enableFlashToHtml5){L.onclick=function(){t(this)}}o.parentNode.replaceChild(L,o)}else{console.log("other ");o.height=o.offsetWidth*10/16}}var s=/.*sohu.com.*/;var A=/.*youku.com.*/;var x=/.*tudou.com.*/;var q=/.*qq.com.*/;function t(N){N.setAttribute("src",c);var p=N.getAttribute("video-src");console.log("video id "+N.id+"  loading src= "+p);if(s.test(p)&&z(p,N)){return}if(A.test(p)&&E(p,N)){return}if(x.test(p)&&H(p,N)){return}if(q.test(p)&&C(p,N)){return}N.setAttribute("src",l);console.log(p);window.Interface.showMessage("尚未支持 "+J(p)+" 视频源","info")}function z(p,P){var O=I(p,"id");if(O!=""){var N="http://api.tv.sohu.com/v4/video/info/"+O+".json?site=2&api_key=9854b2afa779e1a6bff1962447a09dbd";console.log("load sohu video id "+O);window.Interface.loadSohuVideo(P.id,N);return true}return false}function E(N,Q){var p=/.*static.youku.com.*/;var P="";if(p.test(N)){P=I(N,"VideoIDS")}else{P=y(N,"sid")}if(P!=""){var O=document.createElement("iframe");O.src="http://player.youku.com/embed/"+P;b(O,Q);O.onload=function(){console.log("youku html5 video player loading success")};Q.parentNode.replaceChild(O,Q);return true}return false}function H(p,P){var O=p.match(/.*tudou.*\/v\/(\S+)?\/&.*/);if(O){var N=document.createElement("iframe");N.src="http://www.tudou.com/programs/view/html5embed.action?code="+O[1];b(N,P);N.onload=function(){console.log("tudou html5 video player loading success")};P.parentNode.replaceChild(N,P);return true}return false}function C(N,P){var p=I(N,"vid");if(p!=""){var O=document.createElement("iframe");O.src="http://v.qq.com/iframe/player.html?vid="+p;+"&amp;width="+P.offsetWidth+"&amp;height="+P.offsetWidth*10/16+"&amp;auto=0";b(O,P);O.onload=function(){console.log("QQ html5 video player loading success")};P.parentNode.replaceChild(O,P);return true}return false}function I(N,p){var P=new RegExp("(^|&?)"+p+"=([^&]*)(&|$)","i");var Q=N.match(P);var O="";if(Q!=null){O=Q[2]}P=null;Q=null;return O==null||O==""||O=="undefined"?"":O}function J(p){var N=p.match(/(\w+):\/\/([^\/:|\/]+)(:\d*)?/);if(N!=null){return N[2]}else{return"unknow"}}function y(N,p){var P=new RegExp("(^|/)"+p+"/([^/]*)(/|$)","i");var Q=N.match(P);var O="";if(Q!=null){O=Q[2]}P=null;Q=null;return O==null||O==""||O=="undefined"?"":O}})();var m=function(r,q,p){var s=document.getElementById(r);if(s){var o=document.createElement("video");o.src=q;o.poster=p;o.setAttribute("preload","metadata");o.controls="controls";b(o,s);s.parentNode.replaceChild(o,s)}else{console.log("Illagel viewid")}};function b(p,o){p.width=o.offsetWidth;p.style.maxWidth=o.offsetWidth+"px";p.height=o.offsetWidth*10/16;p.style.maxHeight=o.offsetWidth*10/16+"px"}var k=function(){for(var o=0;o<f.length;o++){a(f[o])}};function a(o){var p=new Image();o.setAttribute("src",c);p.src=o.getAttribute("dest-src");p.onload=function(){o.setAttribute("src",o.getAttribute("dest-src"));o.onclick=function(){e(this)}};p.onerror=function(){o.setAttribute("src",i);o.onclick=function(){a(this)}}}function e(o){console.log(o.getAttribute("pos"));window.Interface.showImage(o.getAttribute("pos"),n);return false}var j=function h(p){if(p){document.body.style.backgroundColor="#202733";document.body.style.color="#9bafcb";document.getElementById("introduce").style.backgroundColor="#262f3d";document.getElementById("introduce").style.color="#616d80";var q=document.querySelectorAll("blockquote");for(var o=q.length-1;o>=0;o--){q[o].style.backgroundColor="#262f3d";q[o].style.color="#616d80"}}else{document.body.style.backgroundColor="#FFF";document.body.style.color="#000";document.getElementById("introduce").style.backgroundColor="#F1F1F1";document.getElementById("introduce").style.color="#444";var q=document.querySelectorAll("blockquote");for(var o=q.length-1;o>=0;o--){q[o].style.backgroundColor="#F1F1F1";q[o].style.color="#444"}}};return{setNight:function(o){j(o)},VideoCallBack:function(q,p,o){m(q,p,o)},showAllImage:function(){k()}}})();